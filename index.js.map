{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/refs.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import Axios from \"axios\";\n\nexport function getImagesByQuery(query) {    \n    const params = {\n        key: '51701755-afeeef66c15ff24568cee0a11',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    }\n    const axios = Axios.create({\n        baseURL: 'https://pixabay.com/api/',\n        params: params,\n    })\n    return axios\n        .get()\n        .then(res => res.data)\n        .catch(error => console.log(error)\n        );\n}","export const refs = {\n    formELem: document.querySelector('.form'),\n    imagesList: document.querySelector('.gallery'),\n    loaderElem: document.querySelector('.loader-container')\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { refs } from \"./refs\";\n\nexport const lightbox = new SimpleLightbox('.img-card a');\nexport function imageTemplate ({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) {\n    return `<li class=\"img-card\">\n    <a href=\"${largeImageURL}\">\n    <img src=\"${webformatURL}\" alt=\"${tags}\">\n    </a>\n    <ul class=\"card-text\">\n    <li class=\"card-content\"><p class=\"card-content-title\">Likes</p><p>${likes}</p></li>\n    <li class=\"card-content\"><p class=\"card-content-title\">Views</p><p>${views}</p></li>\n    <li class=\"card-content\"><p class=\"card-content-title\">Comments</p><p>${comments}</p></li>\n    <li class=\"card-content\"><p class=\"card-content-title\">Downloads</p><p>${downloads}</p></li>    \n    </ul>\n    </li>`\n}\nexport function renderImages(imgArr) {\n  const markup = imgArr.map(imageTemplate).join('');\n  refs.imagesList.innerHTML = markup;\n  lightbox.refresh();  \n}\nexport function clearGallery() {\n    refs.imagesList.innerHTML = '';\n}\n\nexport function showLoadInfo() {\n    refs.loaderElem.classList.remove('visually-hidden');\n}\nexport function hideLoadInfo() {\n    refs.loaderElem.classList.add('visually-hidden');\n }\n","import { getImagesByQuery } from './js/pixabay-api';\nimport { refs } from './js/refs';\nimport { renderImages, clearGallery, showLoadInfo, hideLoadInfo } from './js/render-functions'; \nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nrefs.formELem.addEventListener('submit', handleFormElem);\n\nfunction handleFormElem(e) {\n    e.preventDefault();\n    clearGallery();\n    showLoadInfo();\n    const query = e.target.elements.searchText.value.trim();\n    if (query === '') {\n        iziToast.info({\n            message: 'Please enter search words',\n            position: 'topRight',\n        })\n        hideLoadInfo();\n        return;\n    }\n    getImagesByQuery(query)\n        .then(data => {\n            const imgArr = data.hits;\n            hideLoadInfo();\n            if (imgArr.length === 0) {\n                iziToast.error({\n                    title: 'Nothing found!',\n                    message: `Sorry, there are no images matching your search \"${query}\". Please try again!`,\n                    position: 'topRight',\n                })\n            } else {\n                renderImages(imgArr);\n                e.target.reset();\n            }\n        })\n        .catch(error => {\n            console.log(error);\n            hideLoadInfo();\n            iziToast.error({                \n                message: `Sorry, we have connection problems. Please try again!`,\n                position: 'topRight',\n            });\n        });            \n}\n"],"names":["getImagesByQuery","query","params","Axios","res","error","refs","lightbox","SimpleLightbox","imageTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderImages","imgArr","markup","clearGallery","showLoadInfo","hideLoadInfo","handleFormElem","e","iziToast","data"],"mappings":"owBAEO,SAASA,EAAiBC,EAAO,CACpC,MAAMC,EAAS,CACX,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,EAKD,OAJcE,EAAM,OAAO,CACvB,QAAS,2BACT,OAAQD,CAChB,CAAK,EAEI,IAAK,EACL,KAAKE,GAAOA,EAAI,IAAI,EACpB,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CACzC,CACA,CCnBO,MAAMC,EAAO,CAChB,SAAU,SAAS,cAAc,OAAO,EACxC,WAAY,SAAS,cAAc,UAAU,EAC7C,WAAY,SAAS,cAAc,mBAAmB,CAC1D,ECAaC,EAAW,IAAIC,EAAe,aAAa,EACjD,SAASC,EAAe,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAG,CACnG,MAAO;AAAA,eACIL,CAAa;AAAA,gBACZD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,yEAG+BC,CAAK;AAAA,yEACLC,CAAK;AAAA,4EACFC,CAAQ;AAAA,6EACPC,CAAS;AAAA;AAAA,UAGtF,CACO,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAASD,EAAO,IAAIT,CAAa,EAAE,KAAK,EAAE,EAChDH,EAAK,WAAW,UAAYa,EAC5BZ,EAAS,QAAO,CAClB,CACO,SAASa,GAAe,CAC3Bd,EAAK,WAAW,UAAY,EAChC,CAEO,SAASe,GAAe,CAC3Bf,EAAK,WAAW,UAAU,OAAO,iBAAiB,CACtD,CACO,SAASgB,GAAe,CAC3BhB,EAAK,WAAW,UAAU,IAAI,iBAAiB,CACnD,CC1BAA,EAAK,SAAS,iBAAiB,SAAUiB,CAAc,EAEvD,SAASA,EAAeC,EAAG,CACvBA,EAAE,eAAc,EAChBJ,IACAC,IACA,MAAMpB,EAAQuB,EAAE,OAAO,SAAS,WAAW,MAAM,OACjD,GAAIvB,IAAU,GAAI,CACdwB,EAAS,KAAK,CACV,QAAS,4BACT,SAAU,UACtB,CAAS,EACDH,IACA,MACH,CACDtB,EAAiBC,CAAK,EACjB,KAAKyB,GAAQ,CACV,MAAMR,EAASQ,EAAK,KACpBJ,IACIJ,EAAO,SAAW,EAClBO,EAAS,MAAM,CACX,MAAO,iBACP,QAAS,oDAAoDxB,CAAK,uBAClE,SAAU,UAC9B,CAAiB,GAEDgB,EAAaC,CAAM,EACnBM,EAAE,OAAO,QAEzB,CAAS,EACA,MAAMnB,GAAS,CACZ,QAAQ,IAAIA,CAAK,EACjBiB,IACAG,EAAS,MAAM,CACX,QAAS,wDACT,SAAU,UAC1B,CAAa,CACb,CAAS,CACT"}